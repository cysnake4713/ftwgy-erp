<?xml version="1.0" encoding="UTF-8"?>
<openerp>
    <data>
        <record id="group_class_user" model="res.groups">
            <field name="name">普通老师</field>
            <field name="category_id" ref="base.module_category_school"/>
        </record>
        <record id="group_class_switch_manager" model="res.groups">
            <field name="name">换课审批</field>
            <field name="category_id" ref="base.module_category_school"/>
            <field name="implied_ids" eval="[(4, ref('class_notify.group_class_user'))]"/>
        </record>
        <record id="group_class_admin" model="res.groups">
            <field name="name">管理员</field>
            <field name="category_id" ref="base.module_category_school"/>
            <field name="implied_ids" eval="[(4, ref('class_notify.group_class_user'))]"/>
        </record>

        <record model="ir.rule" id="rule_group_class_user_draft_state">
            <field name="name">plan switch user, deletable in draft state</field>
            <field name="model_id" ref="class_notify.model_school_timetable_plan_switch_wizard"/>
            <field name="domain_force">[('state', 'in',['draft'])]</field>
            <field name="groups" eval="[(4, ref('class_notify.group_class_user'))]"/>
        </record>
        <record model="ir.rule" id="rule_group_class_user_not_draft_state">
            <field name="name">plan switch user, not deletable in draft state</field>
            <field name="model_id" ref="class_notify.model_school_timetable_plan_switch_wizard"/>
            <field name="domain_force">[('state', 'not in',['draft'])]</field>
            <field name="groups" eval="[(4, ref('class_notify.group_class_user'))]"/>
            <field name="perm_unlink" eval="False"/>
        </record>
    </data>
</openerp>